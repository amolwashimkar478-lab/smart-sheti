<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Settings - Smart Sheti</title>

<style>
:root{
  --green:#2e7d32;
  --bg:#f4f6f8;
  --card:#ffffff;
  --text:#222;
  --shadow:0 4px 12px rgba(0,0,0,.08);
}

body.dark{
  --bg:#121212;
  --card:#1e1e1e;
  --text:#ffffff;
}

*{
  box-sizing:border-box;
  font-family: system-ui, sans-serif;
}

body{
  margin:0;
  background:var(--bg);
  color:var(--text);
}

/* HEADER */
.header{
  background:var(--green);
  color:#fff;
  padding:14px;
  font-size:18px;
  display:flex;
  align-items:center;
  gap:10px;
}

/* CONTAINER */
.container{
  padding:16px;
}

/* CARD */
.card{
  background:var(--card);
  border-radius:16px;
  box-shadow:var(--shadow);
  padding:18px;
  margin-bottom:18px;
}

/* PROFILE */
.profile{
  text-align:center;
}

.avatar{
  width:120px;
  height:120px;
  border-radius:50%;
  border:4px solid var(--green);
  background:#ccc;
  margin:0 auto 12px;
  position:relative;
  overflow:hidden;
}

.avatar img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.camera{
  position:absolute;
  bottom:4px;
  right:4px;
  background:var(--green);
  color:#fff;
  width:34px;
  height:34px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}

/* INPUT */
input, select{
  width:100%;
  height:44px;
  padding:8px 12px;
  border-radius:12px;
  border:1px solid #ccc;
  background:transparent;
  color:var(--text);
  font-size:15px;
}

/* BUTTON */
.btn{
  width:100%;
  height:46px;
  border:none;
  border-radius:12px;
  font-size:16px;
  margin-top:12px;
  cursor:pointer;
}

.btn-edit{background:#666;color:#fff;}
.btn-logout{background:#f9a825;color:#fff;}
.btn-delete{background:#f44336;color:#fff;}

.label{
  font-weight:600;
  margin-bottom:6px;
  color:var(--green);
}
</style>
</head>

<body>

<div class="header">‚öôÔ∏è ‡§Ö‚Äç‡•Ö‡§™ ‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó</div>

<div class="container">

  <!-- PROFILE -->
  <div class="card profile">
    <div class="avatar" onclick="pickPhoto()">
      <img id="profilePic">
      <div class="camera">üì∑</div>
    </div>

    <input id="username" placeholder="‡§§‡•Å‡§Æ‡§ö‡§Ç ‡§®‡§æ‡§µ">

    <button class="btn btn-edit" onclick="saveProfile()">‡§è‡§°‡§ø‡§ü (Edit)</button>
  </div>

  <!-- SETTINGS -->
  <div class="card">
    <div class="label">üé® ‡§•‡•Ä‡§Æ (Theme)</div>
    <select onchange="changeTheme(this.value)">
      <option value="light">Light</option>
      <option value="dark">Dark</option>
    </select>
  </div>

  <!-- ACTIONS -->
  <div class="card">
    <button class="btn btn-logout" onclick="logout()">‡§¨‡§æ‡§π‡•á‡§∞ ‡§™‡§°‡§æ (Logout)</button>
    <button class="btn btn-delete" onclick="deleteAccount()">‡§ñ‡§æ‡§§‡•á ‡§π‡§ü‡§µ‡§æ</button>
  </div>

</div>

<input type="file" id="fileInput" accept="image/*" hidden>

<script>
/* LOGIN CHECK */
if(localStorage.getItem("loggedIn") !== "true"){
  window.location.href = "login.html";
}

/* LOAD DATA */
window.onload = ()=>{
  document.getElementById("username").value =
    localStorage.getItem("name") || "";

  const img = localStorage.getItem("photo");
  if(img) document.getElementById("profilePic").src = img;

  const theme = localStorage.getItem("theme") || "light";
  if(theme==="dark") document.body.classList.add("dark");
}

/* SAVE PROFILE */
function saveProfile(){
  localStorage.setItem("name",
    document.getElementById("username").value);
  alert("Saved ‚úÖ");
}

/* PHOTO PICK */
function pickPhoto(){
  document.getElementById("fileInput").click();
}

fileInput.onchange = ()=>{
  const file = fileInput.files[0];
  const reader = new FileReader();
  reader.onload = ()=>{
    localStorage.setItem("photo", reader.result);
    profilePic.src = reader.result;
  };
  reader.readAsDataURL(file);
};

/* THEME */
function changeTheme(val){
  if(val==="dark"){
    document.body.classList.add("dark");
  }else{
    document.body.classList.remove("dark");
  }
  localStorage.setItem("theme", val);
}

/* LOGOUT */
function logout(){
  localStorage.removeItem("loggedIn");
  window.location.href="login.html";
}

/* DELETE */
function deleteAccount(){
  if(confirm("‡§ñ‡§æ‡§§‡•á ‡§ï‡§æ‡§Ø‡§Æ‡§ö‡§Ç ‡§π‡§ü‡§µ‡§æ‡§Ø‡§ö‡§Ç ‡§Ü‡§π‡•á ‡§ï‡§æ?")){
    localStorage.clear();
    window.location.href="login.html";
  }
}
</script>

</body>
</html>
