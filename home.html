<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Sheti - Home</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#e8f5e9;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:20px;
}

/* ЁЯМ╛ Logo */
.logo{
  font-size:30px;
  font-weight:bold;
  color:#2e7d32;
  margin-bottom:30px;
}

/* ЁЯУж Buttons */
.btn{
  width:100%;
  max-width:320px;
  padding:20px;
  margin:14px 0;
  font-size:20px;
  border:none;
  border-radius:16px;
  background:#2e7d32;
  color:white;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
}

.btn:hover{
  background:#1b5e20;
}

/* ЁЯМж Weather button */
.weather-btn{
  background:#1565c0;
}
.weather-btn:hover{
  background:#0d47a1;
}

/* ЁЯМж Weather Box */
#weatherBox{
  display:none;
  background:white;
  margin-top:20px;
  padding:18px;
  border-radius:16px;
  width:100%;
  max-width:320px;
  font-size:18px;
}
</style>
</head>

<body>

<div class="logo">ЁЯМ╛ Smart Sheti</div>

<!-- ЁЯМж Weather Button -->
<button class="btn weather-btn" onclick="getWeather()">
  ЁЯМж рдЖрдЬрдЪрдВ рд╣рд╡рд╛рдорд╛рди
</button>

<!-- ЁЯдЦ AI Chat -->
<button class="btn" onclick="location.href='ai.html'">
  ЁЯдЦ AI рд╕рд▓реНрд▓рд╛
</button>

<div id="weatherBox"></div>

<script>
const API_KEY = "f24d69cb16d56c33b2bb58ff57f3ea6e";

/* ЁЯФК рдорд░рд╛рдареА рдЖрд╡рд╛рдЬ */
function speakMarathi(text){
  const msg = new SpeechSynthesisUtterance(text);
  msg.lang = "mr-IN";
  msg.rate = 0.9;
  window.speechSynthesis.cancel();
  window.speechSynthesis.speak(msg);
}

/* ЁЯМж Weather + Alert + Voice */
function getWeather(){
  navigator.geolocation.getCurrentPosition(async pos=>{
    const lat = pos.coords.latitude;
    const lon = pos.coords.longitude;

    const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric&lang=mr`;

    const res = await fetch(url);
    const data = await res.json();

    const city = data.name;
    const temp = data.main.temp;
    const desc = data.weather[0].description;

    const box = document.getElementById("weatherBox");
    box.style.display = "block";
    box.innerHTML = `
      ЁЯУН ${city}<br>
      ЁЯМб рддрд╛рдкрдорд╛рди: ${temp}┬░C<br>
      ЁЯМз рд╣рд╡рд╛рдорд╛рди: ${desc}
    `;

    /* ЁЯФК Voice */
    speakMarathi(
      `${city} рдордзреНрдпреЗ рдЖрдЬ рд╣рд╡рд╛рдорд╛рди ${desc} рдЖрд╣реЗ. 
       рддрд╛рдкрдорд╛рди ${temp} рдЕрдВрд╢ рд╕реЗрд▓реНрд╕рд┐рдЕрд╕ рдЖрд╣реЗ`
    );

    /* ЁЯЪи Rain Alert */
    if(desc.includes("рдкрд╛рдКрд╕") || desc.includes("rain")){
      alert("ЁЯЪи рдкрд╛рд╡рд╕рд╛рдЪрд╛ рдЗрд╢рд╛рд░рд╛! рдЖрдЬ рдкрд╛рдКрд╕ рдкрдбреВ рд╢рдХрддреЛ");
    }

    /* тП│ Redirect after 2 sec */
    setTimeout(()=>{
      window.location.href = "weather.html";
    },2000);
  },
  ()=>alert("Location рдкрд░рд╡рд╛рдирдЧреА рджреНрдпрд╛"));
}
</script>

</body>
</html>
